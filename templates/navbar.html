{% load static %}

{% comment %}
    Navbar.
{% endcomment %}

<nav id="site-navbar"
     class="navbar navbar-dark navbar-expand-lg sticky-top font-5 navbar-image-background d-flex align-items-center shadow">
    <a href="{% url 'asset_management:asset-list' %}">
        <span class="navbar-brand navbar-text mb-0 h1 logo-font font-7">Wallet</span>
    </a>
    {#    <button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"#}
    {#            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">#}
    {#        <span class="navbar-toggler-icon"></span>#}
    {#    </button>#}

    <div class="burger mb-auto mt-auto" style="display: none">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
    </div>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav d-flex align-items-center justify-content-between w-50 ml-auto">
            {% if user.is_authenticated %}
                <li class="nav-item active">
                    <a class="nav-link navbar-text font-size-120" href="{% url 'asset_management:asset-list' %}">
                        Portafoglio
                    </a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link navbar-text font-size-120" href="{% url 'user_management:user-settings' %}">
                        Impostazioni
                    </a>
                </li>
            {% endif %}
        </ul>

        <ul class="navbar-nav ml-auto d-flex align-items-center">
            {% if user.is_authenticated %}
                {% if user.has_profile %}
                    <li class="nav-item active break-word">
                        <a class="ml-lg-2 navbar-text" href="{% url 'user_management:user-detail' %}"
                           role="button">
                            <img src="{{ user.profile.picture.url }}"
                                 class="rounded-picture-small no-decoration shadow" alt="">
                        </a>
                    </li>
                {% else %}
                    <li class="nav-item active break-word">
                        <a class="ml-lg-2 navbar-text" href="{% url 'user_management:user-detail' %}"
                           role="button">
                            {{ user.username|truncatechars:30 }}
                        </a>
                    </li>
                {% endif %}
            {% else %}
                <li class="nav-item active">
                    <a class="ml-lg-2 navbar-text" href="{% url 'user_management:login' %}"
                       role="button">Login</a>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>